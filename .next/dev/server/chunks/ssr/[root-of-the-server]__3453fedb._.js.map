{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohanrajebhosale/Development/final_Portfolio/components/Rohbot.js"],"sourcesContent":["'use client';\nimport { useState, useEffect, useRef } from 'react';\nimport gsap from 'gsap';\nimport { Mic, Send, X, Square } from 'lucide-react';\n\nexport default function Rohbot() {\n    const [isOpen, setIsOpen] = useState(false);\n    const [input, setInput] = useState('');\n    const [messages, setMessages] = useState([]);\n    const [isTyping, setIsTyping] = useState(false);\n    const [isBotSpeaking, setIsBotSpeaking] = useState(false);\n    const [isListening, setIsListening] = useState(false);\n\n    const chatWindowRef = useRef(null);\n    const scrollRef = useRef(null);\n    const audioRef = useRef(null);\n    const recognitionRef = useRef(null);\n\n    // Setup Voice Recognition\n    useEffect(() => {\n        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n        if (SpeechRecognition) {\n            const recognition = new SpeechRecognition();\n            recognition.continuous = false;\n            recognition.lang = 'en-US';\n\n            recognition.onstart = () => { setIsListening(true); stopBotSpeaking(); };\n            recognition.onend = () => setIsListening(false);\n            recognition.onresult = (event) => {\n                const transcript = event.results[0][0].transcript;\n                setInput(transcript);\n                handleSendMessage(transcript);\n            };\n            recognitionRef.current = recognition;\n        }\n    }, []);\n\n    // Animations\n    useEffect(() => {\n        if (isOpen) {\n            gsap.to(chatWindowRef.current, { autoAlpha: 1, scale: 1, duration: 0.4, ease: \"power2.out\" });\n            if (messages.length === 0) {\n                const welcome = \"Hello. I am ROHbot, an AI twin of Rohan. Ask me anything about his skills or projects.\";\n                setMessages([{ role: 'bot', content: welcome }]);\n            }\n        } else {\n            gsap.to(chatWindowRef.current, { autoAlpha: 0, scale: 0.9, duration: 0.3, ease: \"power2.in\" });\n        }\n    }, [isOpen]);\n\n    useEffect(() => {\n        if (scrollRef.current) scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }, [messages]);\n\n    const handleSendMessage = async (textOverride) => {\n        const text = textOverride || input;\n        if (!text.trim()) return;\n\n        setMessages(prev => [...prev, { role: 'user', content: text }]);\n        setInput('');\n        setIsTyping(true);\n\n        try {\n            const response = await fetch('https://rohbot.vercel.app/api/chat', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ userInput: text, history: [] }) // Simplified history for JS\n            });\n\n            if (!response.body) return;\n            const reader = response.body.getReader();\n            const decoder = new TextDecoder();\n            let fullReply = \"\";\n\n            setMessages(prev => [...prev, { role: 'bot', content: \"\" }]);\n\n            while (true) {\n                const { done, value } = await reader.read();\n                if (done) break;\n                const chunk = decoder.decode(value, { stream: true });\n                fullReply += chunk;\n\n                setMessages(prev => {\n                    const newMsgs = [...prev];\n                    newMsgs[newMsgs.length - 1].content = fullReply;\n                    return newMsgs;\n                });\n            }\n        } catch (e) {\n            console.error(e);\n        } finally {\n            setIsTyping(false);\n        }\n    };\n\n    const stopBotSpeaking = () => {\n        if (audioRef.current) { audioRef.current.pause(); audioRef.current = null; }\n        window.speechSynthesis.cancel();\n        setIsBotSpeaking(false);\n    };\n\n    return (\n        <div style={{ position: 'fixed', bottom: '20px', right: '20px', zIndex: 9999 }}>\n            {/* Button */}\n            <button\n                onClick={() => setIsOpen(!isOpen)}\n                style={{ width: '60px', height: '60px', borderRadius: '50%', backgroundColor: '#0070f3', color: '#fff', border: 'none', cursor: 'pointer', fontSize: '24px' }}\n            >\n                {isOpen ? 'âœ•' : 'ðŸ¤–'}\n            </button>\n\n            {/* Window */}\n            <div\n                ref={chatWindowRef}\n                style={{\n                    position: 'absolute', bottom: '80px', right: '0', width: '350px', height: '500px',\n                    backgroundColor: '#0d1117', border: '1px solid #333', borderRadius: '15px',\n                    display: 'flex', flexDirection: 'column', visibility: 'hidden', opacity: 0, transform: 'scale(0.9)'\n                }}\n            >\n                <div style={{ padding: '15px', borderBottom: '1px solid #333', fontWeight: 'bold' }}>ROHbot (AI Twin)</div>\n                <div ref={scrollRef} style={{ flex: 1, overflowY: 'auto', padding: '15px' }}>\n                    {messages.map((m, i) => (\n                        <div key={i} style={{ marginBottom: '10px', textAlign: m.role === 'user' ? 'right' : 'left' }}>\n                            <div style={{ display: 'inline-block', padding: '10px', borderRadius: '10px', backgroundColor: m.role === 'user' ? '#0070f3' : '#222', fontSize: '14px' }}>\n                                {m.content}\n                            </div>\n                        </div>\n                    ))}\n                </div>\n                <div style={{ padding: '15px', borderTop: '1px solid #333', display: 'flex' }}>\n                    <input\n                        value={input}\n                        onChange={(e) => setInput(e.target.value)}\n                        onKeyDown={(e) => e.key === 'Enter' && handleSendMessage()}\n                        style={{ flex: 1, backgroundColor: '#000', border: '1px solid #333', color: '#fff', padding: '8px', borderRadius: '5px' }}\n                        placeholder=\"Ask me...\"\n                    />\n                </div>\n            </div>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;;AAKe,SAAS;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,gBAAgB,IAAA,+MAAM,EAAC;IAC7B,MAAM,YAAY,IAAA,+MAAM,EAAC;IACzB,MAAM,WAAW,IAAA,+MAAM,EAAC;IACxB,MAAM,iBAAiB,IAAA,+MAAM,EAAC;IAE9B,0BAA0B;IAC1B,IAAA,kNAAS,EAAC;QACN,MAAM,oBAAoB,OAAO,iBAAiB,IAAI,OAAO,uBAAuB;QACpF,IAAI,mBAAmB;YACnB,MAAM,cAAc,IAAI;YACxB,YAAY,UAAU,GAAG;YACzB,YAAY,IAAI,GAAG;YAEnB,YAAY,OAAO,GAAG;gBAAQ,eAAe;gBAAO;YAAmB;YACvE,YAAY,KAAK,GAAG,IAAM,eAAe;YACzC,YAAY,QAAQ,GAAG,CAAC;gBACpB,MAAM,aAAa,MAAM,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU;gBACjD,SAAS;gBACT,kBAAkB;YACtB;YACA,eAAe,OAAO,GAAG;QAC7B;IACJ,GAAG,EAAE;IAEL,aAAa;IACb,IAAA,kNAAS,EAAC;QACN,IAAI,QAAQ;YACR,wJAAI,CAAC,EAAE,CAAC,cAAc,OAAO,EAAE;gBAAE,WAAW;gBAAG,OAAO;gBAAG,UAAU;gBAAK,MAAM;YAAa;YAC3F,IAAI,SAAS,MAAM,KAAK,GAAG;gBACvB,MAAM,UAAU;gBAChB,YAAY;oBAAC;wBAAE,MAAM;wBAAO,SAAS;oBAAQ;iBAAE;YACnD;QACJ,OAAO;YACH,wJAAI,CAAC,EAAE,CAAC,cAAc,OAAO,EAAE;gBAAE,WAAW;gBAAG,OAAO;gBAAK,UAAU;gBAAK,MAAM;YAAY;QAChG;IACJ,GAAG;QAAC;KAAO;IAEX,IAAA,kNAAS,EAAC;QACN,IAAI,UAAU,OAAO,EAAE,UAAU,OAAO,CAAC,SAAS,GAAG,UAAU,OAAO,CAAC,YAAY;IACvF,GAAG;QAAC;KAAS;IAEb,MAAM,oBAAoB,OAAO;QAC7B,MAAM,OAAO,gBAAgB;QAC7B,IAAI,CAAC,KAAK,IAAI,IAAI;QAElB,YAAY,CAAA,OAAQ;mBAAI;gBAAM;oBAAE,MAAM;oBAAQ,SAAS;gBAAK;aAAE;QAC9D,SAAS;QACT,YAAY;QAEZ,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,sCAAsC;gBAC/D,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,WAAW;oBAAM,SAAS,EAAE;gBAAC,GAAG,4BAA4B;YACvF;YAEA,IAAI,CAAC,SAAS,IAAI,EAAE;YACpB,MAAM,SAAS,SAAS,IAAI,CAAC,SAAS;YACtC,MAAM,UAAU,IAAI;YACpB,IAAI,YAAY;YAEhB,YAAY,CAAA,OAAQ;uBAAI;oBAAM;wBAAE,MAAM;wBAAO,SAAS;oBAAG;iBAAE;YAE3D,MAAO,KAAM;gBACT,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO,IAAI;gBACzC,IAAI,MAAM;gBACV,MAAM,QAAQ,QAAQ,MAAM,CAAC,OAAO;oBAAE,QAAQ;gBAAK;gBACnD,aAAa;gBAEb,YAAY,CAAA;oBACR,MAAM,UAAU;2BAAI;qBAAK;oBACzB,OAAO,CAAC,QAAQ,MAAM,GAAG,EAAE,CAAC,OAAO,GAAG;oBACtC,OAAO;gBACX;YACJ;QACJ,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC;QAClB,SAAU;YACN,YAAY;QAChB;IACJ;IAEA,MAAM,kBAAkB;QACpB,IAAI,SAAS,OAAO,EAAE;YAAE,SAAS,OAAO,CAAC,KAAK;YAAI,SAAS,OAAO,GAAG;QAAM;QAC3E,OAAO,eAAe,CAAC,MAAM;QAC7B,iBAAiB;IACrB;IAEA,qBACI,8OAAC;QAAI,OAAO;YAAE,UAAU;YAAS,QAAQ;YAAQ,OAAO;YAAQ,QAAQ;QAAK;;0BAEzE,8OAAC;gBACG,SAAS,IAAM,UAAU,CAAC;gBAC1B,OAAO;oBAAE,OAAO;oBAAQ,QAAQ;oBAAQ,cAAc;oBAAO,iBAAiB;oBAAW,OAAO;oBAAQ,QAAQ;oBAAQ,QAAQ;oBAAW,UAAU;gBAAO;0BAE3J,SAAS,MAAM;;;;;;0BAIpB,8OAAC;gBACG,KAAK;gBACL,OAAO;oBACH,UAAU;oBAAY,QAAQ;oBAAQ,OAAO;oBAAK,OAAO;oBAAS,QAAQ;oBAC1E,iBAAiB;oBAAW,QAAQ;oBAAkB,cAAc;oBACpE,SAAS;oBAAQ,eAAe;oBAAU,YAAY;oBAAU,SAAS;oBAAG,WAAW;gBAC3F;;kCAEA,8OAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,cAAc;4BAAkB,YAAY;wBAAO;kCAAG;;;;;;kCACrF,8OAAC;wBAAI,KAAK;wBAAW,OAAO;4BAAE,MAAM;4BAAG,WAAW;4BAAQ,SAAS;wBAAO;kCACrE,SAAS,GAAG,CAAC,CAAC,GAAG,kBACd,8OAAC;gCAAY,OAAO;oCAAE,cAAc;oCAAQ,WAAW,EAAE,IAAI,KAAK,SAAS,UAAU;gCAAO;0CACxF,cAAA,8OAAC;oCAAI,OAAO;wCAAE,SAAS;wCAAgB,SAAS;wCAAQ,cAAc;wCAAQ,iBAAiB,EAAE,IAAI,KAAK,SAAS,YAAY;wCAAQ,UAAU;oCAAO;8CACnJ,EAAE,OAAO;;;;;;+BAFR;;;;;;;;;;kCAOlB,8OAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,WAAW;4BAAkB,SAAS;wBAAO;kCACxE,cAAA,8OAAC;4BACG,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,WAAW,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW;4BACvC,OAAO;gCAAE,MAAM;gCAAG,iBAAiB;gCAAQ,QAAQ;gCAAkB,OAAO;gCAAQ,SAAS;gCAAO,cAAc;4BAAM;4BACxH,aAAY;;;;;;;;;;;;;;;;;;;;;;;AAMpC"}}]
}